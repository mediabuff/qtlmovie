==========================
Build static Qt on Windows
==========================

Download files:
http://download.qt-project.org/official_releases/qt/5.1/5.1.1/single/qt-everywhere-opensource-src-5.1.1.7z
http://download.qt-project.org/official_releases/qtcreator/2.8/2.8.1/qt-creator-2.8.1-src.zip
http://download.qt-project.org/development_releases/prebuilt/mingw_32/x32-4.8.0-release-posix-dwarf-rev2.7z

Optional (runtime dll):
http://download.qt-project.org/development_releases/prebuilt/mingw_32/x32-4.8.0-release-posix-dwarf-rev2-runtime.7z

Related articles:
http://qt-project.org/doc/qt-5.1/qtdoc/deployment-windows.html
http://qt-project.org/wiki/Building_Qt_Desktop_for_Windows_with_MinGW
http://qt-project.org/forums/viewthread/29468
http://qt-project.org/wiki/MinGW
http://qt-project.org/wiki/Build_Standalone_Qt_Application_for_Windows
http://qt-project.org/wiki/How_to_build_a_static_Qt_version_for_Windows_with_gcc
http://www.qtcentre.org/wiki/index.php?title=Building_static_Qt_on_Windows

Building process:

- Create root: C:\QtStatic

- Download above files in C:\QtStatic\src (if not already there)

- Unzip Qt source files in C:\QtStatic\src
    C:\QtStatic\src\qt-everywhere-opensource-src-5.1.1
    C:\QtStatic\src\qt-creator-2.8.1-src

- Unzip MinGW pre-built in C:\QtStatic
    C:\QtStatic\mingw32

- Edit mkspecs
    C:\QtStatic\src\qt-everywhere-opensource-src-5.1.1\qtbase\mkspecs\win32-g++\qmake.conf
  Add the following lines at the end:

# Added for static build:
QMAKE_LFLAGS += -static -static-libgcc
QMAKE_CFLAGS_RELEASE -= -O2
QMAKE_CFLAGS_RELEASE += -Os -momit-leaf-frame-pointer
DEFINES += QT_STATIC_BUILD

- Add in front of Path:
    C:\QtStatic\mingw32\bin
    C:\QtStatic\mingw32\opt\bin

- Change directory to C:\QtStatic\src\qt-everywhere-opensource-src-5.1.1
  Execute:

    set Path=C:\QtStatic\mingw32\bin;C:\QtStatic\mingw32\opt\bin;C:\Windows\system32;C:\Windows
    set QT_INSTALL_PREFIX=C:\QtStatic\5.1.1
    set LANG=en
    md %QT_INSTALL_PREFIX%
    configure -static -release -platform win32-g++ -qt-zlib -qt-libpng -qt-libjpeg -opengl desktop -qt-sql-sqlite -opensource -confirm-license -make libs -nomake examples -nomake tests
    mingw32-make -j4
